clear
echo Build and Deploy Road to Polymer to chuck.github.io/road-to-polymer PRODUCTION Server
echo  Comment: $1
echo
echo Starting Build Process
grunt build --force
echo Finished Build Process, will start Github Deploy to PRODUCTION Server next
echo
echo Press any key to continue, or control-c to abort
read -n 1 -s
echo

echo Starting Deploy Process to PRODUCTION Server -- chuck.github.io/road-to-polymer

# echo  fixing prism links
# sed 's/..\/prism\/themes/..\/bower_components\/prism\/themes/' <dist/elements/elements.vulcanized.html > dist/elements/elements.vulcanized-new.html
# sed 's/assets\/line-numbers.css/..\/bower_components\/prism-js\/assets\/line-numbers.css/' <dist/elements/elements.vulcanized-new.html > dist/elements/elements.vulcanized-new1.html
# cp dist/elements/elements.vulcanized-new1.html dist/elements/elements.vulcanized.html
# rm dist/elements/elements.vulcanized-new.html
# rm dist/elements/elements.vulcanized-new1.html

echo fixing webcomponents.min.js
cp bower_components/webcomponentsjs/webcomponents.min.js dist/bower_components/webcomponentsjs/webcomponents.min.js

echo fixing app.js unminify
cp app/scripts/app.js dist/scripts/app.js

echo Adding README.md unminify
cp README.md dist/README.md

echo  git adding and committing
git add .
git commit -m "New Build $1"

echo  deploying to github pages
grunt buildcontrol
